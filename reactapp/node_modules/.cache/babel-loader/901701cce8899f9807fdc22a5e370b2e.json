{"ast":null,"code":"var _jsxFileName = \"/Users/syl/Desktop/La Capsule/Semaine 5/mymoviesBackEnd/reactapp/src/App.js\",\n    _s = $RefreshSig$();\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport { Nav, NavItem, NavLink } from 'reactstrap';\nimport { Movie } from '../src/Components/Movie';\nimport { MovieRest } from '../src/Components/MovieRest';\nimport { WhisList } from '../src/Components/WhisList';\nimport { Button, Popover, PopoverHeader } from 'reactstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar icon = {\n  width: '52px'\n};\nvar flex = {\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center'\n};\n\nfunction App() {\n  _s();\n\n  var nameList = [];\n  const [movieListAPI, setMovieListAPI] = useState([]);\n  useEffect(() => {\n    async function loadData() {\n      var rawResponse = await fetch('/whishlist-movie');\n      var reponse = await rawResponse.json();\n      setMovieListAPI(reponse);\n      console.log(\"coucou\", reponse[4].Nom);\n\n      for (var i = 0; i < reponse.length; i++) {\n        nameList.push(reponse[i].Nom);\n      }\n    }\n\n    loadData();\n    console.log(\"loadData\", {\n      nameList\n    });\n  }, []);\n  console.log(\"test\", {\n    nameList\n  });\n  var movieData = movieListAPI.map((list, i) => {\n    return list;\n  });\n  console.log(\"tableau:\", movieData);\n  movieData.sort(function (a, b) {\n    return b.note - a.note;\n  });\n  console.log(\"tri ?\", movieData);\n  var movieDataFirst = [];\n  var movieDataRest = [];\n  movieDataFirst = movieData.filter((movie, idx) => idx < 3);\n  movieDataRest = movieData.filter((movie, idx) => idx > 3);\n  console.log(\"first:\", movieDataFirst);\n  console.log(\"rest:\", movieDataRest);\n  const [popoverOpen, setPopoverOpen] = useState(false);\n\n  const toggle = () => setPopoverOpen(!popoverOpen);\n\n  const [favList, setFavList] = useState([]);\n\n  var clickSurLike = (nomDuFilm, likeMovie, afficheMovie) => {\n    if (likeMovie === false) {\n      setFavList([...favList, {\n        name: nomDuFilm,\n        image: afficheMovie\n      }]);\n    } else if (likeMovie === true) {\n      setFavList(favList.filter(e => e.name !== nomDuFilm && e.image !== afficheMovie));\n    }\n\n    ;\n  };\n\n  var removeWhisList = (nomDuFilm, afficheMovie, etatLike) => {\n    setFavList(favList.filter(e => e.name !== nomDuFilm));\n    console.log('oulalal');\n  };\n\n  var movieListFirst = movieDataFirst.map((oneMovie, i) => {\n    if (oneMovie.Nom.length > 22) {\n      return /*#__PURE__*/_jsxDEV(Movie, {\n        booleanLike: oneMovie.like,\n        nivAvis: oneMovie.Avis,\n        nivMoyenne: oneMovie.note,\n        nbreVote: oneMovie.vote,\n        nameMovie: oneMovie.Nom.slice(0, 22) + \"...\",\n        affiche: oneMovie.img + \"...\",\n        resume: oneMovie.sum,\n        like: clickSurLike\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Movie, {\n        booleanLike: oneMovie.like,\n        nivAvis: oneMovie.Avis,\n        nivMoyenne: oneMovie.note,\n        nbreVote: oneMovie.vote,\n        nameMovie: oneMovie.Nom,\n        affiche: oneMovie.img,\n        resume: oneMovie.sum,\n        like: clickSurLike\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 14\n      }, this);\n    }\n  });\n  var movieListRest = movieDataRest.map((oneMovie, i) => {\n    if (oneMovie.Nom.length > 22) {\n      return /*#__PURE__*/_jsxDEV(MovieRest, {\n        booleanLike: oneMovie.like,\n        nivAvis: oneMovie.Avis,\n        nivMoyenne: oneMovie.note,\n        nbreVote: oneMovie.vote,\n        nameMovie: oneMovie.Nom.slice(0, 22) + \"...\",\n        affiche: oneMovie.img,\n        resume: oneMovie.sum,\n        like: clickSurLike\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(MovieRest, {\n        booleanLike: oneMovie.like,\n        nivAvis: oneMovie.Avis,\n        nivMoyenne: oneMovie.note,\n        nbreVote: oneMovie.vote,\n        nameMovie: oneMovie.Nom,\n        affiche: oneMovie.img,\n        resume: oneMovie.sum,\n        like: clickSurLike\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 14\n      }, this);\n    }\n  });\n  var favListComp = favList.map((movieList, i) => {\n    return /*#__PURE__*/_jsxDEV(WhisList, {\n      etatLike: favList,\n      List: movieList.name,\n      Affiche: movieList.image,\n      vide: movieList.name.length,\n      removeWhisList: removeWhisList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 12\n    }, this);\n  });\n  console.log(\"voyons voir :\", favListComp);\n  var nav = {\n    fontSize: '18px',\n    fontWeight: 'bold',\n    color: 'white'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Nav, {\n            style: flex,\n            children: [/*#__PURE__*/_jsxDEV(NavItem, {\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"./pop-corn.png\",\n                  alt: \"\",\n                  style: icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                style: nav,\n                href: \"#\",\n                children: \"Connexion\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                style: nav,\n                href: \"#\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    id: \"Popover1\",\n                    type: \"button\",\n                    children: [\"Favoris : \", favList.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 7\n                  }, this), /*#__PURE__*/_jsxDEV(Popover, {\n                    placement: \"bottom\",\n                    isOpen: popoverOpen,\n                    target: \"Popover1\",\n                    toggle: toggle,\n                    children: [/*#__PURE__*/_jsxDEV(PopoverHeader, {\n                      children: \"Liste de Favoris\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 9\n                    }, this), favListComp]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 7\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: movieListFirst\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: movieListRest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"cHV2z63iCvjOomrt/gGyJWdP5bw=\");\n\n_c = App;\n;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/syl/Desktop/La Capsule/Semaine 5/mymoviesBackEnd/reactapp/src/App.js"],"names":["React","useState","useEffect","Container","Row","Col","Nav","NavItem","NavLink","Movie","MovieRest","WhisList","Button","Popover","PopoverHeader","icon","width","flex","display","flexDirection","alignItems","App","nameList","movieListAPI","setMovieListAPI","loadData","rawResponse","fetch","reponse","json","console","log","Nom","i","length","push","movieData","map","list","sort","a","b","note","movieDataFirst","movieDataRest","filter","movie","idx","popoverOpen","setPopoverOpen","toggle","favList","setFavList","clickSurLike","nomDuFilm","likeMovie","afficheMovie","name","image","e","removeWhisList","etatLike","movieListFirst","oneMovie","like","Avis","vote","slice","img","sum","movieListRest","favListComp","movieList","nav","fontSize","fontWeight","color"],"mappings":"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","sourcesContent":["\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport React, { useState, useEffect } from 'react';\n\nimport { Container, Row, Col } from 'reactstrap';\nimport { Nav, NavItem, NavLink } from 'reactstrap';\nimport {Movie} from '../src/Components/Movie';\nimport {MovieRest} from '../src/Components/MovieRest';\nimport {WhisList} from '../src/Components/WhisList';\nimport { Button, Popover, PopoverHeader,} from 'reactstrap';\n\n\nvar icon = {\n  width : '52px',\n}\n\nvar flex = {\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n}\n\n\n\n\nfunction App() {\n\n  var nameList = []\n  const [movieListAPI, setMovieListAPI] = useState([]);\n \n\n  useEffect(() => {\n\n    async function loadData(){\n      var rawResponse = await fetch('/whishlist-movie');\n      var reponse = await rawResponse.json();\n\n      setMovieListAPI(reponse)\n      \n      console.log(\"coucou\", reponse[4].Nom)\n      for (var i = 0; i<reponse.length; i++) {\n      nameList.push(reponse[i].Nom)}\n      \n      }\n    \n     loadData()\n     console.log(\"loadData\", {nameList})\n\n  }, []);\n\n  console.log(\"test\", {nameList})\n\n \n  var movieData = movieListAPI.map((list, i) => {\n          return list\n              })\n\n              console.log(\"tableau:\", movieData)\n\n\n  \n \nmovieData.sort(function(a, b) {\n          return b.note - a.note;})\n\n          console.log(\"tri ?\", movieData)\n\n\nvar movieDataFirst = [];\nvar movieDataRest = [];\n\nmovieDataFirst = movieData.filter((movie, idx) => idx < 3);\nmovieDataRest = movieData.filter((movie,idx) => idx > 3 )\n\nconsole.log(\"first:\", movieDataFirst)\nconsole.log(\"rest:\", movieDataRest)\n\n\n  const [popoverOpen, setPopoverOpen] = useState(false);\n  const toggle = () => setPopoverOpen(!popoverOpen);\n\n  const [favList, setFavList] = useState([]);\n\n\n          \n\n\n  var clickSurLike = (nomDuFilm, likeMovie, afficheMovie) => {\n\n    if (likeMovie === false) {\n      setFavList( [...favList, {name : nomDuFilm, image : afficheMovie}]) } else if (likeMovie === true) {setFavList( favList.filter((e) => e.name !== nomDuFilm && e.image !== afficheMovie))};\n\n    }\n\n  var removeWhisList = (nomDuFilm, afficheMovie, etatLike) => {\n    \n    setFavList ( favList.filter((e) => e.name !==nomDuFilm))\n    console.log('oulalal', )\n\n\n  }\n\n\n\n\n  var movieListFirst = movieDataFirst.map((oneMovie, i) => {\n\n    if (oneMovie.Nom.length > 22){\n      return(<Movie booleanLike = {oneMovie.like} nivAvis = {oneMovie.Avis} nivMoyenne = {oneMovie.note} nbreVote = {oneMovie.vote} nameMovie = {oneMovie.Nom.slice(0,22)+\"...\"} affiche = {oneMovie.img+\"...\"} resume = {oneMovie.sum} like = {clickSurLike}/>);\n    \n    } else {\n      return(<Movie booleanLike = {oneMovie.like} nivAvis = {oneMovie.Avis} nivMoyenne = {oneMovie.note} nbreVote = {oneMovie.vote} nameMovie = {oneMovie.Nom} affiche = {oneMovie.img} resume = {oneMovie.sum} like = {clickSurLike}/>);\n    }\n  \n  });\n\n\n  var movieListRest = movieDataRest.map((oneMovie, i) => {\n\n    if (oneMovie.Nom.length > 22){\n      return(<MovieRest booleanLike = {oneMovie.like} nivAvis = {oneMovie.Avis} nivMoyenne = {oneMovie.note} nbreVote = {oneMovie.vote} nameMovie = {oneMovie.Nom.slice(0,22)+\"...\"} affiche = {oneMovie.img} resume = {oneMovie.sum} like = {clickSurLike}/>);\n    \n    } else {\n      return(<MovieRest booleanLike = {oneMovie.like} nivAvis = {oneMovie.Avis} nivMoyenne = {oneMovie.note} nbreVote = {oneMovie.vote} nameMovie = {oneMovie.Nom} affiche = {oneMovie.img} resume = {oneMovie.sum} like = {clickSurLike}/>);\n    }\n  \n  });\n\n\n\n  var favListComp = favList.map((movieList, i) => {\n\n    return(<WhisList etatLike = {favList} List = {movieList.name} Affiche = {movieList.image} vide= {movieList.name.length}removeWhisList = {removeWhisList}/>)\n  \n  })\n\nconsole.log(\"voyons voir :\" , favListComp)\n\n  var nav = {\n    fontSize : '18px',\n    fontWeight : 'bold',\n    color : 'white'\n  }\n\nreturn (\n  <div className =\"App\">\n    <Container>\n      <Row>\n        <Col>\n        <Nav style={flex}>\n        <NavItem>\n          <NavLink  >< img src='./pop-corn.png' alt='' style={icon} /></NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink style={nav} href=\"#\">Connexion</NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink style={nav} href=\"#\">\n          \n          <div>\n      <Button id=\"Popover1\" type=\"button\">\n        Favoris : {favList.length}\n      </Button>\n      <Popover placement=\"bottom\" isOpen={popoverOpen} target=\"Popover1\" toggle={toggle}>\n        <PopoverHeader>Liste de Favoris</PopoverHeader>\n              {favListComp}\n      </Popover>\n          </div>\n          \n          </NavLink>\n        </NavItem>\n        </Nav>\n        </Col>\n      </Row>\n      <Row>\n          {movieListFirst}\n      </Row>\n      <Row>\n          {movieListRest}\n      </Row>\n    </Container>\n  </div>\n  );\n};\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}