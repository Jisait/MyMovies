{"ast":null,"code":"var _jsxFileName = \"/Users/syl/Desktop/La Capsule/Semaine 5/mymoviesBackEnd/reactapp/src/Components/MovieRest.js\",\n    _s = $RefreshSig$();\n\nimport '../App.css';\nimport { Col } from 'reactstrap';\nimport { Card, CardImg, CardText, CardBody } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faVideo } from '@fortawesome/free-solid-svg-icons';\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\nimport React, { useState, useEffect } from 'react';\nimport { Badge } from 'reactstrap';\nimport { Progress } from 'reactstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MovieRest(props) {\n  _s();\n\n  var progBar = {\n    backgroundColor: '#FFFFFF'\n  };\n  var cardText = {\n    paddingTop: '3px'\n  };\n  var color = {\n    width: '50%'\n  };\n  var fiche = {\n    marginBottom: '24px'\n  };\n  var titre = {\n    color: 'black',\n    fontSize: '18px',\n    fontWeight: 'bold'\n  };\n  var sousTitre = {\n    fontSize: '12px'\n  };\n  var resume = {\n    fontSize: '13px'\n  };\n  var badge = {\n    backgroundColor: 'grey'\n  };\n  var Like = {\n    backgroundColor: \"white\",\n    borderWidth: \"3px\",\n    borderColor: \"white\"\n  };\n  var sousVotePour = {\n    color: '#E3E2E2'\n  };\n  var votePour = {\n    color: '#FEBE00'\n  };\n  const [likeMovie, setLikeMovie] = useState(-1);\n  const [watchMovie, setWatchMovie] = useState(false);\n  const [watchNumber, setWatchNumber] = useState(0);\n  const [myRatingMovie, setMyRatingMovie] = useState(0);\n  const [myVote, setMyVote] = useState(false);\n  const [wishList, setWishList] = useState([]);\n\n  var clickSurLike = () => {\n    props.like(props.nameMovie, props.affiche);\n  };\n\n  useEffect(async () => {\n    var rawResponse = await fetch('/wishlist-movie');\n    var response = await rawResponse.json();\n    setWishList(response.movies);\n  }, []);\n\n  var changeLike = (name, img) => {\n    if (props.booleanLike = true) {\n      props.removeWishList(name);\n    } else {\n      props.clickSurLike(name, img);\n    }\n\n    setLikeMovie(!likeMovie);\n  };\n\n  if (props.booleanLike == true) Like = {\n    backgroundColor: \"#FEBE00\",\n    borderWidth: \"3px\",\n    borderColor: \"#B49E24\"\n  };\n  if (props.booleanLike == true) votePour = {\n    color: '#00086D'\n  };\n  if (props.booleanLike == true) sousVotePour = {\n    color: \"white\"\n  };\n\n  var clickSurCamera = () => {\n    if (watchMovie === false) {\n      setWatchMovie(true);\n    }\n\n    setWatchNumber(watchNumber + 1);\n  };\n\n  var clickStar = compteur => {\n    setMyRatingMovie(compteur);\n    setMyVote(true);\n  };\n\n  var myVoteNumber = 0;\n\n  if (myVote === true) {\n    myVoteNumber = 1;\n  }\n\n  var newMoyenne = (props.nivMoyenne * props.nbreVote + myRatingMovie) / (props.nbreVote + myVoteNumber);\n  var newMoyenneArrondi = Math.round(newMoyenne * 10);\n  var nbreVote = props.nbreVote;\n\n  if (myVote === true) {\n    nbreVote = props.nbreVote + 1;\n  }\n\n  var coeur = {\n    color: 'grey'\n  };\n\n  if (props.booleanLike == true) {\n    coeur = {\n      color: '#e74c3c'\n    };\n  }\n\n  var camera = {\n    color: '#EAEAEA'\n  };\n\n  if (likeMovie !== -1) {\n    camera = {\n      color: 'black'\n    };\n  }\n\n  var tabMyRating = [];\n\n  for (var i = 0; i < 10; i++) {\n    var color = sousVotePour;\n\n    if (i < myRatingMovie) {\n      color = votePour;\n    }\n\n    let compteur = i + 1;\n    tabMyRating.push( /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n      className: \"pointer\",\n      onClick: () => clickStar(compteur),\n      style: color,\n      icon: faStar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 22\n    }, this));\n  }\n\n  var tabGlobalRating = [];\n\n  for (i = 0; i < 10; i++) {\n    color = sousVotePour;\n\n    if (i < newMoyenne) {\n      color = votePour;\n    }\n\n    tabGlobalRating.push( /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n      className: \"pointer\",\n      style: color,\n      icon: faStar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 28\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(Col, {\n    style: fiche,\n    sm: \"12\",\n    lg: \"6\",\n    xl: \"3\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: Like,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"position-relative\",\n        children: [/*#__PURE__*/_jsxDEV(CardImg, {\n          top: true,\n          width: \"100%\",\n          src: props.affiche,\n          className: \"noirci\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"resume\",\n          style: resume,\n          children: props.resume\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        style: cardText,\n        children: [/*#__PURE__*/_jsxDEV(CardText, {\n          style: titre,\n          children: props.nameMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          style: sousTitre,\n          children: [\"Like \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            className: \"pointer\",\n            onClick: () => clickSurLike(),\n            style: coeur,\n            icon: faHeart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          style: sousTitre,\n          children: [\"Nombre de vues \", props.nbreVue, \" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            className: \"pointer\",\n            onClick: () => clickSurCamera(),\n            style: camera,\n            icon: faVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 70\n          }, this), \"    \", /*#__PURE__*/_jsxDEV(Badge, {\n            style: badge,\n            children: watchNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 178\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          style: sousTitre,\n          children: [\"Avis\", tabMyRating, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          children: [/*#__PURE__*/_jsxDEV(Progress, {\n            style: progBar,\n            value: newMoyenne * 10,\n            max: 111\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: sousTitre,\n            className: \"text-center\",\n            children: [newMoyenneArrondi, \"% d'avis positif sur \", nbreVote, \" avis\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 73\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 4\n  }, this);\n}\n\n_s(MovieRest, \"EdZFcVAIEhq9ORfzF8o1ZfaQAXY=\");\n\n_c = MovieRest;\nexport { MovieRest };\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieRest\");","map":{"version":3,"sources":["/Users/syl/Desktop/La Capsule/Semaine 5/mymoviesBackEnd/reactapp/src/Components/MovieRest.js"],"names":["Col","Card","CardImg","CardText","CardBody","FontAwesomeIcon","faVideo","faHeart","faStar","React","useState","useEffect","Badge","Progress","MovieRest","props","progBar","backgroundColor","cardText","paddingTop","color","width","fiche","marginBottom","titre","fontSize","fontWeight","sousTitre","resume","badge","Like","borderWidth","borderColor","sousVotePour","votePour","likeMovie","setLikeMovie","watchMovie","setWatchMovie","watchNumber","setWatchNumber","myRatingMovie","setMyRatingMovie","myVote","setMyVote","wishList","setWishList","clickSurLike","like","nameMovie","affiche","rawResponse","fetch","response","json","movies","changeLike","name","img","booleanLike","removeWishList","clickSurCamera","clickStar","compteur","myVoteNumber","newMoyenne","nivMoyenne","nbreVote","newMoyenneArrondi","Math","round","coeur","camera","tabMyRating","i","push","tabGlobalRating","nbreVue"],"mappings":";;;AAEA,OAAO,YAAP;AAEA,SAAQA,GAAR,QAAmB,YAAnB;AACA,SAAQC,IAAR,EAAcC,OAAd,EAAuBC,QAAvB,EAAiCC,QAAjC,QAAgD,YAAhD;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,OAAT,QAAwB,mCAAxB;AACA,SAASC,OAAT,QAAwB,mCAAxB;AACA,SAASC,MAAT,QAAuB,mCAAvB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,SAASC,QAAT,QAAyB,YAAzB;;;AAKA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AAGxB,MAAIC,OAAO,GAAG;AACZC,IAAAA,eAAe,EAAE;AADL,GAAd;AAKA,MAAIC,QAAQ,GAAG;AACbC,IAAAA,UAAU,EAAG;AADA,GAAf;AAKA,MAAIC,KAAK,GAAG;AACVC,IAAAA,KAAK,EAAE;AADG,GAAZ;AAIA,MAAIC,KAAK,GAAG;AACVC,IAAAA,YAAY,EAAG;AADL,GAAZ;AAKA,MAAIC,KAAK,GAAG;AACVJ,IAAAA,KAAK,EAAG,OADE;AAEVK,IAAAA,QAAQ,EAAG,MAFD;AAGVC,IAAAA,UAAU,EAAG;AAHH,GAAZ;AAMA,MAAIC,SAAS,GAAG;AACdF,IAAAA,QAAQ,EAAG;AADG,GAAhB;AAIA,MAAIG,MAAM,GAAG;AACXH,IAAAA,QAAQ,EAAG;AADA,GAAb;AAIA,MAAII,KAAK,GAAG;AACVZ,IAAAA,eAAe,EAAG;AADR,GAAZ;AAIA,MAAIa,IAAI,GAAG;AACTb,IAAAA,eAAe,EAAG,OADT;AAETc,IAAAA,WAAW,EAAG,KAFL;AAGTC,IAAAA,WAAW,EAAG;AAHL,GAAX;AAKA,MAAIC,YAAY,GAAG;AAACb,IAAAA,KAAK,EAAE;AAAR,GAAnB;AACA,MAAIc,QAAQ,GAAG;AAACd,IAAAA,KAAK,EAAG;AAAT,GAAf;AAIA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4B1B,QAAQ,CAAC,CAAC,CAAF,CAA1C;AACA,QAAM,CAAC2B,UAAD,EAAaC,aAAb,IAA8B5B,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAAC6B,WAAD,EAAcC,cAAd,IAAgC9B,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAAC+B,aAAD,EAAgBC,gBAAhB,IAAoChC,QAAQ,CAAC,CAAD,CAAlD;AACA,QAAM,CAACiC,MAAD,EAASC,SAAT,IAAsBlC,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACmC,QAAD,EAAWC,WAAX,IAA0BpC,QAAQ,CAAC,EAAD,CAAxC;;AAIA,MAAIqC,YAAY,GAAG,MAAM;AACvBhC,IAAAA,KAAK,CAACiC,IAAN,CAAWjC,KAAK,CAACkC,SAAjB,EAA4BlC,KAAK,CAACmC,OAAlC;AAA2C,GAD7C;;AAIEvC,EAAAA,SAAS,CAAC,YAAY;AAEpB,QAAIwC,WAAW,GAAG,MAAMC,KAAK,CAAC,iBAAD,CAA7B;AACA,QAAIC,QAAQ,GAAG,MAAMF,WAAW,CAACG,IAAZ,EAArB;AACAR,IAAAA,WAAW,CAACO,QAAQ,CAACE,MAAV,CAAX;AAED,GANQ,EAMN,EANM,CAAT;;AAQA,MAAIC,UAAU,GAAG,CAACC,IAAD,EAAOC,GAAP,KAAe;AAC9B,QAAG3C,KAAK,CAAC4C,WAAN,GAAoB,IAAvB,EAA6B;AAC3B5C,MAAAA,KAAK,CAAC6C,cAAN,CAAqBH,IAArB;AAA4B,KAD9B,MACoC;AAChC1C,MAAAA,KAAK,CAAEgC,YAAP,CAAoBU,IAApB,EAA0BC,GAA1B;AACH;;AAEDtB,IAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;AACH,GAPC;;AAWE,MAAIpB,KAAK,CAAC4C,WAAN,IAAqB,IAAzB,EAAgC7B,IAAI,GAAG;AAC/Bb,IAAAA,eAAe,EAAG,SADa;AAE/Bc,IAAAA,WAAW,EAAG,KAFiB;AAG/BC,IAAAA,WAAW,EAAG;AAHiB,GAAP;AAMhC,MAAIjB,KAAK,CAAC4C,WAAN,IAAqB,IAAzB,EAAgCzB,QAAQ,GAAG;AACnCd,IAAAA,KAAK,EAAG;AAD2B,GAAX;AAKhC,MAAIL,KAAK,CAAC4C,WAAN,IAAqB,IAAzB,EAA+B1B,YAAY,GAAG;AACtCb,IAAAA,KAAK,EAAG;AAD8B,GAAf;;AAKnC,MAAIyC,cAAc,GAAG,MAAM;AACzB,QAAIxB,UAAU,KAAK,KAAnB,EAA0B;AAC1BC,MAAAA,aAAa,CAAC,IAAD,CAAb;AAAoB;;AACpBE,IAAAA,cAAc,CAACD,WAAW,GAAC,CAAb,CAAd;AAED,GALD;;AAQA,MAAIuB,SAAS,GAAIC,QAAD,IAAc;AAE5BrB,IAAAA,gBAAgB,CAACqB,QAAD,CAAhB;AACAnB,IAAAA,SAAS,CAAC,IAAD,CAAT;AAED,GALD;;AAOA,MAAIoB,YAAY,GAAG,CAAnB;;AACE,MAAGrB,MAAM,KAAK,IAAd,EAAmB;AACjBqB,IAAAA,YAAY,GAAG,CAAf;AACD;;AAEH,MAAIC,UAAU,GAAG,CAAElD,KAAK,CAACmD,UAAN,GAAmBnD,KAAK,CAACoD,QAA1B,GAAsC1B,aAAvC,KAA0D1B,KAAK,CAACoD,QAAN,GAAeH,YAAzE,CAAjB;AAEA,MAAII,iBAAiB,GAAGC,IAAI,CAACC,KAAL,CAAWL,UAAU,GAAC,EAAtB,CAAxB;AAEA,MAAIE,QAAQ,GAAGpD,KAAK,CAACoD,QAArB;;AACE,MAAGxB,MAAM,KAAK,IAAd,EAAoB;AAClBwB,IAAAA,QAAQ,GAAGpD,KAAK,CAACoD,QAAN,GAAgB,CAA3B;AACD;;AAED,MAAII,KAAK,GAAG;AAACnD,IAAAA,KAAK,EAAE;AAAR,GAAZ;;AACA,MAAIL,KAAK,CAAC4C,WAAN,IAAqB,IAAzB,EAAgC;AAChCY,IAAAA,KAAK,GAAG;AAACnD,MAAAA,KAAK,EAAE;AAAR,KAAR;AACD;;AAED,MAAIoD,MAAM,GAAG;AAACpD,IAAAA,KAAK,EAAC;AAAP,GAAb;;AACA,MAAIe,SAAS,KAAK,CAAC,CAAnB,EAAsB;AACpBqC,IAAAA,MAAM,GAAG;AAACpD,MAAAA,KAAK,EAAE;AAAR,KAAT;AACD;;AAED,MAAIqD,WAAW,GAAG,EAAlB;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,EAAf,EAAmBA,CAAC,EAApB,EAAuB;AACnB,QAAItD,KAAK,GAAGa,YAAZ;;AACA,QAAGyC,CAAC,GAACjC,aAAL,EAAmB;AACfrB,MAAAA,KAAK,GAAGc,QAAR;AACH;;AACD,QAAI6B,QAAQ,GAAGW,CAAC,GAAC,CAAjB;AACFD,IAAAA,WAAW,CAACE,IAAZ,eAAiB,QAAC,eAAD;AAAiB,MAAA,SAAS,EAAG,SAA7B;AAAuC,MAAA,OAAO,EAAE,MAAMb,SAAS,CAACC,QAAD,CAA/D;AAA2E,MAAA,KAAK,EAAE3C,KAAlF;AAAyF,MAAA,IAAI,EAAEZ;AAA/F;AAAA;AAAA;AAAA;AAAA,YAAjB;AACD;;AAED,MAAIoE,eAAe,GAAG,EAAtB;;AACA,OAAIF,CAAC,GAAC,CAAN,EAAQA,CAAC,GAAC,EAAV,EAAaA,CAAC,EAAd,EAAiB;AACbtD,IAAAA,KAAK,GAAGa,YAAR;;AACA,QAAGyC,CAAC,GAACT,UAAL,EAAgB;AACZ7C,MAAAA,KAAK,GAAGc,QAAR;AACH;;AAED0C,IAAAA,eAAe,CAACD,IAAhB,eAAqB,QAAC,eAAD;AAAiB,MAAA,SAAS,EAAG,SAA7B;AAAuC,MAAA,KAAK,EAAEvD,KAA9C;AAAqD,MAAA,IAAI,EAAEZ;AAA3D;AAAA;AAAA;AAAA;AAAA,YAArB;AACH;;AAGH,sBAEG,QAAC,GAAD;AAAK,IAAA,KAAK,EAAEc,KAAZ;AAAmB,IAAA,EAAE,EAAC,IAAtB;AAA2B,IAAA,EAAE,EAAC,GAA9B;AAAkC,IAAA,EAAE,EAAC,GAArC;AAAA,2BAEG,QAAC,IAAD;AAAM,MAAA,KAAK,EAAEQ,IAAb;AAAA,8BAEE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,gCACA,QAAC,OAAD;AAAS,UAAA,GAAG,MAAZ;AAAa,UAAA,KAAK,EAAC,MAAnB;AAA0B,UAAA,GAAG,EAAEf,KAAK,CAACmC,OAArC;AAA8C,UAAA,SAAS,EAAC;AAAxD;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAI,UAAA,SAAS,EAAC,QAAd;AAAuB,UAAA,KAAK,EAAEtB,MAA9B;AAAA,oBAAuCb,KAAK,CAACa;AAA7C;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAOE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAEV,QAAjB;AAAA,gCACE,QAAC,QAAD;AAAU,UAAA,KAAK,EAAEM,KAAjB;AAAA,oBAAyBT,KAAK,CAACkC;AAA/B;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,QAAD;AAAU,UAAA,KAAK,EAAEtB,SAAjB;AAAA,2CAAiC,QAAC,eAAD;AAAiB,YAAA,SAAS,EAAG,SAA7B;AAAuC,YAAA,OAAO,EAAE,MAAMoB,YAAY,EAAlE;AAAsE,YAAA,KAAK,EAAEwB,KAA7E;AAAoF,YAAA,IAAI,EAAEhE;AAA1F;AAAA;AAAA;AAAA;AAAA,kBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,QAAD;AAAU,UAAA,KAAK,EAAEoB,SAAjB;AAAA,wCAA4CZ,KAAK,CAAC8D,OAAlD,oBAA2D,QAAC,eAAD;AAAiB,YAAA,SAAS,EAAG,SAA7B;AAAuC,YAAA,OAAO,EAAE,MAAMhB,cAAc,EAApE;AAAwE,YAAA,KAAK,EAAEW,MAA/E;AAAuF,YAAA,IAAI,EAAElE;AAA7F;AAAA;AAAA;AAAA;AAAA,kBAA3D,uBAAuK,QAAC,KAAD;AAAO,YAAA,KAAK,EAAGuB,KAAf;AAAA,sBAAuBU;AAAvB;AAAA;AAAA;AAAA;AAAA,kBAAvK;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,QAAD;AAAU,UAAA,KAAK,EAAEZ,SAAjB;AAAA,6BAAiC8C,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE,QAAC,QAAD;AAAA,kCACE,QAAC,QAAD;AAAU,YAAA,KAAK,EAAEzD,OAAjB;AAA0B,YAAA,KAAK,EAAEiD,UAAU,GAAC,EAA5C;AAAgD,YAAA,GAAG,EAAE;AAArD;AAAA;AAAA;AAAA;AAAA,kBADF,eAC8D;AAAK,YAAA,KAAK,EAAEtC,SAAZ;AAAuB,YAAA,SAAS,EAAC,aAAjC;AAAA,uBAAgDyC,iBAAhD,2BAAwFD,QAAxF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAD9D;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAQE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFH;AAAA;AAAA;AAAA;AAAA,UAFH;AAuBK;;GArLIrD,S;;KAAAA,S;AAwLT,SAAQA,SAAR","sourcesContent":["\n\nimport '../App.css';\n\nimport {Col } from 'reactstrap';\nimport {Card, CardImg, CardText, CardBody} from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faVideo } from '@fortawesome/free-solid-svg-icons';\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\nimport React, {useState, useEffect}  from 'react';\nimport { Badge } from 'reactstrap';\nimport { Progress } from 'reactstrap';\n\n\n\n\nfunction MovieRest(props) {\n\n\n  var progBar = {\n    backgroundColor: '#FFFFFF',\n  }\n\n\n  var cardText = {\n    paddingTop : '3px',\n\n  }\n\n  var color = {\n    width: '50%',\n  }\n\n  var fiche = {\n    marginBottom : '24px'\n  }\n  \n\n  var titre = {\n    color : 'black',\n    fontSize : '18px',\n    fontWeight : 'bold'\n  }\n\n  var sousTitre = {\n    fontSize : '12px',\n  }\n\n  var resume = {\n    fontSize : '13px'\n  }\n\n  var badge = {\n    backgroundColor : 'grey'\n  }\n\n  var Like = {\n    backgroundColor : \"white\",\n    borderWidth : \"3px\",\n    borderColor : \"white\"\n  }\n  var sousVotePour = {color: '#E3E2E2'}\n  var votePour = {color : '#FEBE00'}\n\n\n\n  const [likeMovie, setLikeMovie] = useState(-1); \n  const [watchMovie, setWatchMovie] = useState(false);\n  const [watchNumber, setWatchNumber] = useState(0);\n  const [myRatingMovie, setMyRatingMovie] = useState(0);\n  const [myVote, setMyVote] = useState(false);\n  const [wishList, setWishList] = useState([])\n\n  \n\n  var clickSurLike = () => {\n    props.like(props.nameMovie, props.affiche)}\n\n\n    useEffect(async () => {\n      \n      var rawResponse = await fetch('/wishlist-movie');\n      var response = await rawResponse.json();\n      setWishList(response.movies)\n    \n    }, []);\n\n    var changeLike = (name, img) => {\n      if(props.booleanLike = true) {\n        props.removeWishList(name) } else {\n          props. clickSurLike(name, img)\n      }\n\n      setLikeMovie(!likeMovie)\n  }\n\n\n\n      if (props.booleanLike == true)  Like = {\n              backgroundColor : \"#FEBE00\",\n              borderWidth : \"3px\",\n              borderColor : \"#B49E24\"\n                    }\n\n      if (props.booleanLike == true)  votePour = {\n              color : '#00086D'\n\n      }\n\n      if (props.booleanLike == true) sousVotePour = {\n              color : \"white\"\n      \n      }\n      \n  var clickSurCamera = () => {\n    if (watchMovie === false) {\n    setWatchMovie(true)}\n    setWatchNumber(watchNumber+1)\n    \n  }\n\n\n  var clickStar = (compteur) => {\n    \n    setMyRatingMovie(compteur);\n    setMyVote(true)\n\n  }\n\n  var myVoteNumber = 0\n    if(myVote === true){\n      myVoteNumber = 1\n    }\n\n  var newMoyenne = ((props.nivMoyenne * props.nbreVote)+ (myRatingMovie)) / (props.nbreVote+myVoteNumber);\n\n  var newMoyenneArrondi = Math.round(newMoyenne*10)\n\n  var nbreVote = props.nbreVote;\n    if(myVote === true) {\n      nbreVote = props.nbreVote +1\n    }\n\n    var coeur = {color: 'grey'}\n    if (props.booleanLike == true)  {\n    coeur = {color: '#e74c3c'}\n  }\n\n  var camera = {color:'#EAEAEA'}\n  if (likeMovie !== -1) {\n    camera = {color: 'black'}\n  }\n\n  var tabMyRating = []\n  for(var i=0; i<10; i++){\n      var color = sousVotePour\n      if(i<myRatingMovie){\n          color = votePour\n      }\n      let compteur = i+1\n    tabMyRating.push(<FontAwesomeIcon className = \"pointer\" onClick={() => clickStar(compteur)} style={color} icon={faStar} /> )\n  }\n\n  var tabGlobalRating = []\n  for(i=0;i<10;i++){\n      color = sousVotePour\n      if(i<newMoyenne){\n          color = votePour\n      }\n\n      tabGlobalRating.push(<FontAwesomeIcon className = \"pointer\" style={color} icon={faStar} /> )\n  }\n\n\nreturn (\n\n   <Col style={fiche} sm=\"12\" lg=\"6\" xl=\"3\">\n    \n      <Card style={Like}>\n\n        <div className=\"position-relative\">\n        <CardImg top width=\"100%\" src={props.affiche} className=\"noirci\"/> \n        <h2 className=\"resume\" style={resume}>{props.resume}</h2>\n        </div>\n\n        <CardBody style={cardText}>\n          <CardText style={titre}>{props.nameMovie}</CardText>\n          <CardText style={sousTitre}>Like <FontAwesomeIcon className = \"pointer\" onClick={() => clickSurLike()} style={coeur} icon={faHeart} /></CardText>\n          <CardText style={sousTitre}>Nombre de vues {props.nbreVue} <FontAwesomeIcon className = \"pointer\" onClick={() => clickSurCamera()} style={camera} icon={faVideo} />    <Badge style= {badge}>{watchNumber}</Badge></CardText>\n          <CardText style={sousTitre}>Avis{tabMyRating} {/* <Badge onClick={() => clickSurAvisMoins()} style= {badge}>-1</Badge>   <Badge onClick={() => clickSurAvisPlus()} style= {badge}>+1</Badge> */}</CardText>\n          <CardText>\n            <Progress style={progBar} value={newMoyenne*10} max={111} /><div style={sousTitre} className=\"text-center\">{newMoyenneArrondi}% d'avis positif sur {nbreVote} avis</div>\n            </CardText>\n          <CardText></CardText>\n        </CardBody>\n      </Card>\n    </Col>\n  );}\n\n\nexport {MovieRest};\n\n"]},"metadata":{},"sourceType":"module"}